{"ast":null,"code":"var _jsxFileName = \"/Users/hyeji/ICT_web_project/gcloud_fe/src/components/games/Lotto/Lotto.js\";\nimport React, { Component } from \"react\";\nimport Ball from \"./Ball\";\n\nfunction getWinNumbers() {\n  // 1~ 45가 들어있는 배열 생성\n  const candidate = Array(45).fill().map((v, i) => i + 1);\n  const shuffle = []; // 1~45를 랜덤하게 섞기\n\n  while (candidate.length > 0) {\n    shuffle.push(candidate.splice(Math.floor(Math.random() * candidate.length), 1)[0]);\n  } // shuffle의 마지막 수를 보너스 숫자로\n\n\n  const bonusNumber = shuffle[shuffle.length - 1]; // shuffle의 0~6번째 수를 오름차순 정렬하여 당첨 숫자로\n\n  const winNumbers = shuffle.splice(0, 6).sort((p, c) => p - c);\n  return [...winNumbers, bonusNumber];\n}\n\nclass Lotto extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      winNumbers: getWinNumbers(),\n      // 당첨 숫자\n      winBalls: [],\n      bonus: null,\n      // 보너스공\n      redo: false\n    };\n    this.timeouts = [];\n\n    this.onClickRedo = () => {\n      this.setState({\n        winNumbers: getWinNumbers(),\n        // 당첨 숫자\n        winBalls: [],\n        bonus: null,\n        // 보너스공\n        redo: false\n      });\n      this.timeouts = [];\n    };\n  }\n\n  componentDidMount() {\n    const {\n      winNumbers\n    } = this.state;\n\n    for (let i = 0; i < winNumbers.length - 1; i++) {\n      this.timeouts[i] = setTimeout(() => {\n        this.setState(prevState => {\n          // 처음에 뽑아둔 수 중 보너스공 제외한 당첨숫자 세팅\n          return {\n            winBalls: [...prevState.winBalls, winNumbers[i]]\n          };\n        });\n      }, (i + 1) * 1000); // 1초 간격으로 출력\n    }\n\n    this.timeouts[6] = setTimeout(() => {\n      // 보너스공\n      this.setState({\n        bonus: winNumbers[6],\n        redo: true\n      }, 7000);\n    });\n  }\n\n  componentWillUnmount() {\n    this.timeouts.forEach(v => {\n      clearTimeout(v);\n    });\n  } // 초기화\n\n\n  render() {\n    const {\n      winBalls,\n      bonus,\n      redo\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, \"\\uB2F9\\uCCA8 \\uC22B\\uC790\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"\\uACB0\\uACFC\\uCC3D\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, winBalls.map(v => /*#__PURE__*/React.createElement(Ball, {\n      key: v,\n      number: v,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, \"\\uBCF4\\uB108\\uC2A4\"), bonus && /*#__PURE__*/React.createElement(Ball, {\n      number: bonus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }), redo && /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onClickRedo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 18\n      }\n    }, \"\\uD55C \\uBC88 \\uB354!\"));\n  }\n\n}\n\nexport default Lotto;","map":{"version":3,"sources":["/Users/hyeji/ICT_web_project/gcloud_fe/src/components/games/Lotto/Lotto.js"],"names":["React","Component","Ball","getWinNumbers","candidate","Array","fill","map","v","i","shuffle","length","push","splice","Math","floor","random","bonusNumber","winNumbers","sort","p","c","Lotto","state","winBalls","bonus","redo","timeouts","onClickRedo","setState","componentDidMount","setTimeout","prevState","componentWillUnmount","forEach","clearTimeout","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Ball from \"./Ball\";\n\nfunction getWinNumbers() {\n  // 1~ 45가 들어있는 배열 생성\n  const candidate = Array(45)\n    .fill()\n    .map((v, i) => i + 1);\n  const shuffle = [];\n  // 1~45를 랜덤하게 섞기\n  while (candidate.length > 0) {\n    shuffle.push(\n      candidate.splice(Math.floor(Math.random() * candidate.length), 1)[0]\n    );\n  }\n  // shuffle의 마지막 수를 보너스 숫자로\n  const bonusNumber = shuffle[shuffle.length - 1];\n  // shuffle의 0~6번째 수를 오름차순 정렬하여 당첨 숫자로\n  const winNumbers = shuffle.splice(0, 6).sort((p, c) => p - c);\n  return [...winNumbers, bonusNumber];\n}\n\nclass Lotto extends Component {\n  state = {\n    winNumbers: getWinNumbers(), // 당첨 숫자\n    winBalls: [],\n    bonus: null, // 보너스공\n    redo: false,\n  };\n\n  timeouts = [];\n\n  componentDidMount() {\n    const { winNumbers } = this.state;\n    for (let i = 0; i < winNumbers.length - 1; i++) {\n      this.timeouts[i] = setTimeout(() => {\n        this.setState((prevState) => {\n          // 처음에 뽑아둔 수 중 보너스공 제외한 당첨숫자 세팅\n          return {\n            winBalls: [...prevState.winBalls, winNumbers[i]],\n          };\n        });\n      }, (i + 1) * 1000); // 1초 간격으로 출력\n    }\n    this.timeouts[6] = setTimeout(() => {\n      // 보너스공\n      this.setState(\n        {\n          bonus: winNumbers[6],\n          redo: true,\n        },\n        7000\n      );\n    });\n  }\n\n  componentWillUnmount() {\n    this.timeouts.forEach((v) => {\n      clearTimeout(v);\n    });\n  }\n\n  // 초기화\n  onClickRedo = () => {\n    this.setState({\n      winNumbers: getWinNumbers(), // 당첨 숫자\n      winBalls: [],\n      bonus: null, // 보너스공\n      redo: false,\n    });\n    this.timeouts = [];\n  };\n\n  render() {\n    const { winBalls, bonus, redo } = this.state;\n    return (\n      <>\n        <div>당첨 숫자</div>\n        <div id=\"결과창\">\n          {winBalls.map((v) => (\n            <Ball key={v} number={v} />\n          ))}\n        </div>\n        <div>보너스</div>\n        {bonus && <Ball number={bonus} />}\n        {redo && <button onClick={this.onClickRedo}>한 번 더!</button>}\n      </>\n    );\n  }\n}\n\nexport default Lotto;\n"]},"metadata":{},"sourceType":"module"}