{"ast":null,"code":"var _jsxFileName = \"/Users/hyeji/ICT_web_project/gcloud_fe/src/components/review/EditReview.jsx\";\nimport React, { Component } from \"react\";\nimport ApiService from \"../../ApiService\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SaveIcon from \"@material-ui/icons/Save\";\n\nclass EditReview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loadReview = () => {\n      ApiService.fetchReviewsByID(window.localStorage.getItem(\"reviewID\")).then(res => {\n        let review = res.data;\n        this.setState({\n          id: review.id,\n          title: review.title,\n          contents: review.contents\n        });\n      }).catch(err => {\n        console.log(\"loadReview() Error!\", err);\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.saveReview = e => {\n      e.preventDefault();\n      let review = {\n        id: this.state.id,\n        title: this.state.title,\n        contents: this.state.contents\n      };\n      ApiService.editReview(review).then(res => {\n        this.setState({\n          message: review.title + \", 내용이 수정되었습니다.\"\n        });\n        this.props.history.push(\"/reviews\");\n      }).catch(err => {\n        console.log(\"saveReview() Error!\", err);\n      });\n    };\n\n    this.state = {\n      id: \"\",\n      title: \"\",\n      contents: \"\",\n      message: null\n    };\n  }\n\n  componentDidMount() {\n    this.loadReview();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      style: style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, \"Edit Review\"), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      type: \"text\",\n      name: \"title\",\n      placeholder: \"edit title\",\n      readOnly: true,\n      fullWidth: true,\n      margin: \"normal\",\n      value: this.state.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"text\",\n      name: \"contents\",\n      fullWidth: true,\n      margin: \"normal\",\n      placeholder: \"edit contents\",\n      value: this.state.contents,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      startIcon: /*#__PURE__*/React.createElement(SaveIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 24\n        }\n      }),\n      onClick: this.saveReview,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, \"Save\")));\n  }\n\n}\n\nconst style = {\n  display: \"flex\",\n  justifyContent: \"center\"\n};\nexport default EditReview;","map":{"version":3,"sources":["/Users/hyeji/ICT_web_project/gcloud_fe/src/components/review/EditReview.jsx"],"names":["React","Component","ApiService","TextField","Button","Typography","SaveIcon","EditReview","constructor","props","loadReview","fetchReviewsByID","window","localStorage","getItem","then","res","review","data","setState","id","title","contents","catch","err","console","log","onChange","e","target","name","value","saveReview","preventDefault","state","editReview","message","history","push","componentDidMount","render","style","display","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ApiService from \"../../ApiService\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SaveIcon from \"@material-ui/icons/Save\";\n\nclass EditReview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      id: \"\",\n      title: \"\",\n      contents: \"\",\n      message: null,\n    };\n  }\n\n  componentDidMount() {\n    this.loadReview();\n  }\n\n  loadReview = () => {\n    ApiService.fetchReviewsByID(window.localStorage.getItem(\"reviewID\"))\n      .then((res) => {\n        let review = res.data;\n        this.setState({\n          id: review.id,\n          title: review.title,\n          contents: review.contents,\n        });\n      })\n      .catch((err) => {\n        console.log(\"loadReview() Error!\", err);\n      });\n  };\n\n  onChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  saveReview = (e) => {\n    e.preventDefault();\n    let review = {\n      id: this.state.id,\n      title: this.state.title,\n      contents: this.state.contents,\n    };\n\n    ApiService.editReview(review)\n      .then((res) => {\n        this.setState({\n          message: review.title + \", 내용이 수정되었습니다.\",\n        });\n        this.props.history.push(\"/reviews\");\n      })\n      .catch((err) => {\n        console.log(\"saveReview() Error!\", err);\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <Typography variant=\"h4\" style={style}>\n          Edit Review\n        </Typography>\n        <form>\n          <TextField\n            type=\"text\"\n            name=\"title\"\n            placeholder=\"edit title\"\n            readOnly={true}\n            fullWidth\n            margin=\"normal\"\n            value={this.state.title}\n          />\n\n          <TextField\n            type=\"text\"\n            name=\"contents\"\n            fullWidth\n            margin=\"normal\"\n            placeholder=\"edit contents\"\n            value={this.state.contents}\n            onChange={this.onChange}\n          />\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            startIcon={<SaveIcon />}\n            onClick={this.saveReview}\n          >\n            Save\n          </Button>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst style = {\n  display: \"flex\",\n  justifyContent: \"center\",\n};\n\nexport default EditReview;\n"]},"metadata":{},"sourceType":"module"}