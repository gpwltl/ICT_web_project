{"ast":null,"code":"var _jsxFileName = \"/Users/hyeji/ICT_web_project/gcloud_fe/src/components/games/RSP.js\";\nimport React, { Component } from \"react\";\nconst rspCoords = {\n  바위: \"0\",\n  가위: \"-260px\",\n  보: \"-538px\"\n};\nconst scores = {\n  가위: 1,\n  바위: 0,\n  보: -1\n};\n\nconst computerChoice = imgCoord => {\n  return Object.entries(rspCoords).find(function (v) {\n    return v[1] === imgCoord;\n  })[0];\n};\n\nclass RSP extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      result: \"\",\n      imgCoord: \"0\",\n      score: 0\n    };\n\n    this.changeHand = () => {\n      const {\n        imgCoord\n      } = this.state;\n\n      if (imgCoord === rspCoords.바위) {\n        this.setState({\n          imgCoord: rspCoords.가위\n        });\n      } else if (imgCoord === rspCoords.가위) {\n        this.setState({\n          imgCoord: rspCoords.보\n        });\n      } else if (imgCoord === rspCoords.보) {\n        this.setState({\n          imgCoord: rspCoords.바위\n        });\n      }\n    };\n\n    this.onClickBtn = choice => {\n      const {\n        imgCoord\n      } = this.state;\n      clearInterval(this.interval);\n      const myScore = scores[choice];\n      const cpuScore = scores[computerChoice(imgCoord)];\n      const diff = myScore - cpuScore; // 내 스코어와 컴퓨터 스코어 빼기\n\n      if (diff === 0) {\n        // 차이가 없으면\n        this.setState({\n          result: \"비겼습니다!\"\n        });\n      } else if ([-1, 2].includes(diff)) {\n        this.setState(prevState => {\n          return {\n            result: \"이겼습니다!\",\n            score: prevState.score + 1\n          };\n        });\n      } else {\n        this.setState(prevState => {\n          return {\n            result: \"졌습니다!\",\n            score: prevState.score - 1\n          };\n        });\n      }\n\n      setTimeout(() => {\n        this.interval = setInterval(this.changeHand, 100);\n      }, 2000); // 결과 나온 후 2초 기다렸다가 다시 돌리기\n    };\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(this.changeHand, 100);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const {\n      result,\n      score,\n      imgCoord\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n      src: require(\"../images/logo2.png\"),\n      alt: \"logo\",\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"computer\",\n      style: {\n        background: `url(https://user-images.githubusercontent.com/44856614/95656787-9e3a3680-0b4b-11eb-8a33-cdd525d264e3.png) ${imgCoord} 0`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"rock\",\n      className: \"btn\",\n      onClick: () => this.onClickBtn(\"바위\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, \"\\uBC14\\uC704\"), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"scissor\",\n      className: \"btn\",\n      onClick: () => this.onClickBtn(\"가위\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \"\\uAC00\\uC704\"), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"paper\",\n      className: \"btn\",\n      onClick: () => this.onClickBtn(\"보\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \"\\uBCF4\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, result), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, \"\\uD604\\uC7AC \", score, \"\\uC810\"));\n  }\n\n}\n\nexport default RSP;","map":{"version":3,"sources":["/Users/hyeji/ICT_web_project/gcloud_fe/src/components/games/RSP.js"],"names":["React","Component","rspCoords","바위","가위","보","scores","computerChoice","imgCoord","Object","entries","find","v","RSP","state","result","score","changeHand","setState","onClickBtn","choice","clearInterval","interval","myScore","cpuScore","diff","includes","prevState","setTimeout","setInterval","componentDidMount","componentWillUnmount","render","require","background"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nconst rspCoords = {\n  바위: \"0\",\n  가위: \"-260px\",\n  보: \"-538px\",\n};\n\nconst scores = {\n  가위: 1,\n  바위: 0,\n  보: -1,\n};\n\nconst computerChoice = (imgCoord) => {\n  return Object.entries(rspCoords).find(function (v) {\n    return v[1] === imgCoord;\n  })[0];\n};\n\nclass RSP extends Component {\n  state = {\n    result: \"\",\n    imgCoord: \"0\",\n    score: 0,\n  };\n\n  interval;\n\n  componentDidMount() {\n    this.interval = setInterval(this.changeHand, 100);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  changeHand = () => {\n    const { imgCoord } = this.state;\n    if (imgCoord === rspCoords.바위) {\n      this.setState({\n        imgCoord: rspCoords.가위,\n      });\n    } else if (imgCoord === rspCoords.가위) {\n      this.setState({\n        imgCoord: rspCoords.보,\n      });\n    } else if (imgCoord === rspCoords.보) {\n      this.setState({\n        imgCoord: rspCoords.바위,\n      });\n    }\n  };\n\n  // 버튼 클릭 시 인터벌 잠시 멈추고 점수 계산 후 다시 실행\n  onClickBtn = (choice) => {\n    const { imgCoord } = this.state;\n    clearInterval(this.interval);\n    const myScore = scores[choice];\n    const cpuScore = scores[computerChoice(imgCoord)];\n    const diff = myScore - cpuScore; // 내 스코어와 컴퓨터 스코어 빼기\n    if (diff === 0) {\n      // 차이가 없으면\n      this.setState({\n        result: \"비겼습니다!\",\n      });\n    } else if ([-1, 2].includes(diff)) {\n      this.setState((prevState) => {\n        return {\n          result: \"이겼습니다!\",\n          score: prevState.score + 1,\n        };\n      });\n    } else {\n      this.setState((prevState) => {\n        return {\n          result: \"졌습니다!\",\n          score: prevState.score - 1,\n        };\n      });\n    }\n    setTimeout(() => {\n      this.interval = setInterval(this.changeHand, 100);\n    }, 2000); // 결과 나온 후 2초 기다렸다가 다시 돌리기\n  };\n\n  render() {\n    const { result, score, imgCoord } = this.state;\n    return (\n      <>\n        <img src={require(\"../images/logo2.png\")} alt=\"logo\" align=\"center\" />\n        <div\n          id=\"computer\"\n          style={{\n            background: `url(https://user-images.githubusercontent.com/44856614/95656787-9e3a3680-0b4b-11eb-8a33-cdd525d264e3.png) ${imgCoord} 0`,\n          }}\n        ></div>\n        <div>\n          <button\n            id=\"rock\"\n            className=\"btn\"\n            onClick={() => this.onClickBtn(\"바위\")}\n          >\n            바위\n          </button>\n          <button\n            id=\"scissor\"\n            className=\"btn\"\n            onClick={() => this.onClickBtn(\"가위\")}\n          >\n            가위\n          </button>\n          <button\n            id=\"paper\"\n            className=\"btn\"\n            onClick={() => this.onClickBtn(\"보\")}\n          >\n            보\n          </button>\n        </div>\n        <div>{result}</div>\n        <div>현재 {score}점</div>\n      </>\n    );\n  }\n}\n\nexport default RSP;\n"]},"metadata":{},"sourceType":"module"}